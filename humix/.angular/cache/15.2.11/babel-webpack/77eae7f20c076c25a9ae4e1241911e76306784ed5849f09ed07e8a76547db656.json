{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./alerta.service\";\nexport class IotService {\n  constructor(http, alertService) {\n    this.http = http;\n    this.alertService = alertService;\n    this.API = 'http://localhost:3000/api';\n  }\n  getEstado() {\n    this.alertService.enviar('üîç Consultando estado actual del sistema...');\n    return this.http.get(`${this.API}/estado`);\n  }\n  setDeshumidificador(accion) {\n    const mensaje = accion === 'on' ? 'üíß Deshumidificador ACTIVADO' : 'üí§ Deshumidificador DESACTIVADO';\n    this.alertService.enviar(mensaje);\n    return this.http.post(`${this.API}/deshumidificador`, {\n      accion\n    });\n  }\n  getHistorico() {\n    this.alertService.enviar('üìä Obteniendo historial de humedad...');\n    return this.http.get(`${this.API}/humedad/historico`);\n  }\n  getSensoresH() {\n    this.alertService.enviar('üõ∞Ô∏è Consultando sensores disponibles...');\n    return this.http.get(`${this.API}/humedad/sensores`);\n  }\n  getLastMesure() {\n    this.alertService.enviar('‚è±Ô∏è Obteniendo √∫ltimas mediciones de humedad...');\n    return this.http.get(`${this.API}/humedad/ultimas`);\n  }\n  getBiggest2Day() {\n    this.alertService.enviar('üìà Calculando humedad m√°xima de las √∫ltimas 48h...');\n    return this.http.get(`${this.API}/humedad/max-hoy`);\n  }\n  getPromedioSemanal() {\n    this.alertService.enviar('üìÖ Calculando promedio semanal de humedad...');\n    return this.http.get(`${this.API}/humedad/promedio/diario/semana`);\n  }\n  getPromedioMensual() {\n    this.alertService.enviar('üìÖ Calculando promedio mensual de humedad...');\n    return this.http.get(`${this.API}/humedad/promedio/diario/mensual`);\n  }\n  getUltimaConductividad() {\n    this.alertService.enviar('üí° Obteniendo √∫ltima medici√≥n de conductividad...');\n    return this.http.get(`${this.API}/conductividad/ultimo`);\n  }\n  getMaxConductividadHoy() {\n    this.alertService.enviar('‚ö° Obteniendo m√°xima conductividad de hoy...');\n    return this.http.get(`${this.API}/conductividad/maxHoy`);\n  }\n  getLogsUltimas24H() {\n    this.alertService.enviar('üïí Cargando logs de humedad √∫ltimas 24h...');\n    return this.http.get(`${this.API}/humedad/ultimas24h`);\n  }\n  enviarAlertaPersonalizada(msg) {\n    const mensaje = `‚ö†Ô∏è ALERTA: ${msg}`;\n    this.alertService.enviar(mensaje);\n  }\n  static {\n    this.…µfac = function IotService_Factory(t) {\n      return new (t || IotService)(i0.…µ…µinject(i1.HttpClient), i0.…µ…µinject(i2.AlertaService));\n    };\n  }\n  static {\n    this.…µprov = /*@__PURE__*/i0.…µ…µdefineInjectable({\n      token: IotService,\n      factory: IotService.…µfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"mappings":";;;AAOA,OAAM,MAAOA,UAAU;EAIrBC,YACUC,IAAgB,EAChBC,YAA2B;IAD3B,SAAI,GAAJD,IAAI;IACJ,iBAAY,GAAZC,YAAY;IAJd,QAAG,GAAG,2BAA2B;EAKtC;EAEHC,SAAS;IACP,IAAI,CAACD,YAAY,CAACE,MAAM,CAAC,6CAA6C,CAAC;IACvE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAC,GAAG,IAAI,CAACC,GAAG,SAAS,CAAC;EAC5C;EAEAC,mBAAmB,CAACC,MAAoB;IACtC,MAAMC,OAAO,GAAGD,MAAM,KAAK,IAAI,GAC3B,8BAA8B,GAC9B,iCAAiC;IAErC,IAAI,CAACN,YAAY,CAACE,MAAM,CAACK,OAAO,CAAC;IAEjC,OAAO,IAAI,CAACR,IAAI,CAACS,IAAI,CAAC,GAAG,IAAI,CAACJ,GAAG,mBAAmB,EAAE;MAAEE;IAAM,CAAE,CAAC;EACnE;EAEAG,YAAY;IACV,IAAI,CAACT,YAAY,CAACE,MAAM,CAAC,uCAAuC,CAAC;IACjE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,oBAAoB,CAAC;EAC9D;EAEAM,YAAY;IACV,IAAI,CAACV,YAAY,CAACE,MAAM,CAAC,yCAAyC,CAAC;IACnE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,mBAAmB,CAAC;EAC7D;EAEAO,aAAa;IACX,IAAI,CAACX,YAAY,CAACE,MAAM,CAAC,gDAAgD,CAAC;IAC1E,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,kBAAkB,CAAC;EAC5D;EAEAQ,cAAc;IACZ,IAAI,CAACZ,YAAY,CAACE,MAAM,CAAC,oDAAoD,CAAC;IAC9E,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,kBAAkB,CAAC;EAC5D;EAEAS,kBAAkB;IAChB,IAAI,CAACb,YAAY,CAACE,MAAM,CAAC,8CAA8C,CAAC;IACxE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,iCAAiC,CAAC;EAC3E;EAEAU,kBAAkB;IAChB,IAAI,CAACd,YAAY,CAACE,MAAM,CAAC,8CAA8C,CAAC;IACxE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,kCAAkC,CAAC;EAC5E;EAEAW,sBAAsB;IACpB,IAAI,CAACf,YAAY,CAACE,MAAM,CAAC,mDAAmD,CAAC;IAC7E,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAM,GAAG,IAAI,CAACC,GAAG,uBAAuB,CAAC;EAC/D;EAEAY,sBAAsB;IACpB,IAAI,CAAChB,YAAY,CAACE,MAAM,CAAC,6CAA6C,CAAC;IACvE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAM,GAAG,IAAI,CAACC,GAAG,uBAAuB,CAAC;EAC/D;EAEAa,iBAAiB;IACf,IAAI,CAACjB,YAAY,CAACE,MAAM,CAAC,4CAA4C,CAAC;IACtE,OAAO,IAAI,CAACH,IAAI,CAACI,GAAG,CAAQ,GAAG,IAAI,CAACC,GAAG,qBAAqB,CAAC;EAC/D;EAEAc,yBAAyB,CAACC,GAAW;IACnC,MAAMZ,OAAO,GAAG,cAAcY,GAAG,EAAE;IACnC,IAAI,CAACnB,YAAY,CAACE,MAAM,CAACK,OAAO,CAAC;EACnC;;;uBAxEWV,UAAU;IAAA;EAAA;;;aAAVA,UAAU;MAAAuB,SAAVvB,UAAU;MAAAwB,YAFT;IAAM;EAAA","names":["IotService","constructor","http","alertService","getEstado","enviar","get","API","setDeshumidificador","accion","mensaje","post","getHistorico","getSensoresH","getLastMesure","getBiggest2Day","getPromedioSemanal","getPromedioMensual","getUltimaConductividad","getMaxConductividadHoy","getLogsUltimas24H","enviarAlertaPersonalizada","msg","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\manav\\Desktop\\Lenguajes\\Python\\RaspberryPi\\humix\\src\\app\\services\\iot.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertaService } from './alerta.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IotService {\n\n  private API = 'http://localhost:3000/api';\n\n  constructor(\n    private http: HttpClient,\n    private alertService: AlertaService\n  ) {}\n\n  getEstado() {\n    this.alertService.enviar('üîç Consultando estado actual del sistema...');\n    return this.http.get(`${this.API}/estado`);\n  }\n\n  setDeshumidificador(accion: 'on' | 'off') {\n    const mensaje = accion === 'on'\n      ? 'üíß Deshumidificador ACTIVADO'\n      : 'üí§ Deshumidificador DESACTIVADO';\n    \n    this.alertService.enviar(mensaje);\n\n    return this.http.post(`${this.API}/deshumidificador`, { accion });\n  }\n\n  getHistorico() {\n    this.alertService.enviar('üìä Obteniendo historial de humedad...');\n    return this.http.get<any[]>(`${this.API}/humedad/historico`);\n  }\n\n  getSensoresH() {\n    this.alertService.enviar('üõ∞Ô∏è Consultando sensores disponibles...');\n    return this.http.get<any[]>(`${this.API}/humedad/sensores`);\n  }\n\n  getLastMesure() {\n    this.alertService.enviar('‚è±Ô∏è Obteniendo √∫ltimas mediciones de humedad...');\n    return this.http.get<any[]>(`${this.API}/humedad/ultimas`);\n  }\n\n  getBiggest2Day() {\n    this.alertService.enviar('üìà Calculando humedad m√°xima de las √∫ltimas 48h...');\n    return this.http.get<any[]>(`${this.API}/humedad/max-hoy`);\n  }\n\n  getPromedioSemanal() {\n    this.alertService.enviar('üìÖ Calculando promedio semanal de humedad...');\n    return this.http.get<any[]>(`${this.API}/humedad/promedio/diario/semana`);\n  }\n\n  getPromedioMensual() {\n    this.alertService.enviar('üìÖ Calculando promedio mensual de humedad...');\n    return this.http.get<any[]>(`${this.API}/humedad/promedio/diario/mensual`);\n  }\n\n  getUltimaConductividad() {\n    this.alertService.enviar('üí° Obteniendo √∫ltima medici√≥n de conductividad...');\n    return this.http.get<any>(`${this.API}/conductividad/ultimo`);\n  }\n\n  getMaxConductividadHoy() {\n    this.alertService.enviar('‚ö° Obteniendo m√°xima conductividad de hoy...');\n    return this.http.get<any>(`${this.API}/conductividad/maxHoy`);\n  }\n\n  getLogsUltimas24H() {\n    this.alertService.enviar('üïí Cargando logs de humedad √∫ltimas 24h...');\n    return this.http.get<any[]>(`${this.API}/humedad/ultimas24h`);\n  }\n\n  enviarAlertaPersonalizada(msg: string) {\n    const mensaje = `‚ö†Ô∏è ALERTA: ${msg}`;\n    this.alertService.enviar(mensaje);\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}