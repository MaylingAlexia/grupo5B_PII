{"ast":null,"code":"import { Chart } from 'chart.js/auto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/iot.service\";\nconst _c0 = [\"funcion\"];\nexport let GraficoLineaComponent = /*#__PURE__*/(() => {\n  class GraficoLineaComponent {\n    constructor(iot) {\n      this.iot = iot;\n    }\n    ngAfterViewInit() {\n      this.iot.getPromedioMensual().subscribe(rows => {\n        // eje X → día del mes\n        const datos = rows.map(r => ({\n          x: new Date(r.dia).getDate(),\n          y: r.promedio\n        }));\n        const ctx = this.canvas.nativeElement.getContext('2d');\n        new Chart(ctx, {\n          type: 'line',\n          data: {\n            datasets: [{\n              label: 'Humedad promedio mensual (%)',\n              data: datos,\n              borderColor: 'rgba(86,69,146,0.85)',\n              backgroundColor: 'rgba(86,69,146,0.85)',\n              fill: false,\n              pointRadius: 4,\n              tension: 0\n            }]\n          },\n          options: {\n            scales: {\n              x: {\n                type: 'linear',\n                title: {\n                  display: true,\n                  text: 'Día del mes'\n                },\n                ticks: {\n                  stepSize: 1\n                }\n              },\n              y: {\n                title: {\n                  display: true,\n                  text: 'Humedad (%)'\n                }\n              }\n            }\n          }\n        });\n      });\n    }\n    static {\n      this.ɵfac = function GraficoLineaComponent_Factory(t) {\n        return new (t || GraficoLineaComponent)(i0.ɵɵdirectiveInject(i1.IotService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GraficoLineaComponent,\n        selectors: [[\"app-grafico-linea\"]],\n        viewQuery: function GraficoLineaComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n          }\n        },\n        decls: 2,\n        vars: 0,\n        consts: [[\"funcion\", \"\"]],\n        template: function GraficoLineaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"canvas\", null, 0);\n          }\n        }\n      });\n    }\n  }\n  return GraficoLineaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}