{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./alerta.service\";\nexport class IotService {\n  constructor(http, alertService) {\n    this.http = http;\n    this.alertService = alertService;\n    this.API = 'http://localhost:3000/api';\n  }\n  getEstado() {\n    return this.http.get(`${this.API}/estado`);\n  }\n  setDeshumidificador(accion) {\n    this.alertService.enviar(accion);\n    return this.http.post(`${this.API}/deshumidificador`, {\n      accion\n    });\n  }\n  getHistorico() {\n    return this.http.get('http://localhost:3000/api/humedad/historico');\n  }\n  getSensoresH() {\n    return this.http.get('http://localhost:3000/api/humedad/sensores');\n  }\n  getLastMesure() {\n    return this.http.get('http://localhost:3000/api/humedad/ultimas');\n  }\n  getBiggest2Day() {\n    return this.http.get('http://localhost:3000/api/humedad/max-hoy');\n  }\n  getPromedioSemanal() {\n    return this.http.get('http://localhost:3000/api/humedad/promedio/diario/semana');\n  }\n  getPromedioMensual() {\n    return this.http.get('http://localhost:3000/api/humedad/promedio/diario/mensual');\n  }\n  getUltimaConductividad() {\n    return this.http.get('http://localhost:3000/api/conductividad/ultimo');\n  }\n  getMaxConductividadHoy() {\n    return this.http.get('http://localhost:3000/api/conductividad/maxHoy');\n  }\n  getLogsUltimas24H() {\n    return this.http.get('http://localhost:3000/api/humedad/ultimas24h');\n  }\n  static {\n    this.ɵfac = function IotService_Factory(t) {\n      return new (t || IotService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AlertaService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: IotService,\n      factory: IotService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"mappings":";;;AAOA,OAAM,MAAOA,UAAU;EAIrBC,YAAoBC,IAAgB,EAC1BC,YAA2B;IADjB,SAAI,GAAJD,IAAI;IACd,iBAAY,GAAZC,YAAY;IAHd,QAAG,GAAG,2BAA2B;EAItC;EAEHC,SAAS;IACP,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACC,GAAG,SAAS,CAAC;EAC5C;EAEAC,mBAAmB,CAACC,MAAoB;IACtC,IAAI,CAACL,YAAY,CAACM,MAAM,CAACD,MAAM,CAAC;IAChC,OAAO,IAAI,CAACN,IAAI,CAACQ,IAAI,CAAC,GAAG,IAAI,CAACJ,GAAG,mBAAmB,EAAE;MAAEE;IAAM,CAAE,CAAC;EACnE;EAEAG,YAAY;IACV,OAAO,IAAI,CAACT,IAAI,CAACG,GAAG,CAAQ,6CAA6C,CAAC;EAC5E;EAEAO,YAAY;IACV,OAAO,IAAI,CAACV,IAAI,CAACG,GAAG,CAAQ,4CAA4C,CAAC;EAC3E;EAEAQ,aAAa;IACX,OAAO,IAAI,CAACX,IAAI,CAACG,GAAG,CAAQ,2CAA2C,CAAC;EAC1E;EAEAS,cAAc;IACZ,OAAO,IAAI,CAACZ,IAAI,CAACG,GAAG,CAAQ,2CAA2C,CAAC;EAC1E;EAEAU,kBAAkB;IAChB,OAAO,IAAI,CAACb,IAAI,CAACG,GAAG,CAAQ,0DAA0D,CAAC;EACzF;EAEAW,kBAAkB;IAChB,OAAO,IAAI,CAACd,IAAI,CAACG,GAAG,CAAQ,2DAA2D,CAAC;EAC1F;EAEAY,sBAAsB;IACpB,OAAO,IAAI,CAACf,IAAI,CAACG,GAAG,CAAM,gDAAgD,CAAC;EAC7E;EAEAa,sBAAsB;IACpB,OAAO,IAAI,CAAChB,IAAI,CAACG,GAAG,CAAM,gDAAgD,CAAC;EAC7E;EAEAc,iBAAiB;IACjB,OAAO,IAAI,CAACjB,IAAI,CAACG,GAAG,CAAQ,8CAA8C,CAAC;EAC7E;;;uBAnDaL,UAAU;IAAA;EAAA;;;aAAVA,UAAU;MAAAoB,SAAVpB,UAAU;MAAAqB,YAFT;IAAM;EAAA","names":["IotService","constructor","http","alertService","getEstado","get","API","setDeshumidificador","accion","enviar","post","getHistorico","getSensoresH","getLastMesure","getBiggest2Day","getPromedioSemanal","getPromedioMensual","getUltimaConductividad","getMaxConductividadHoy","getLogsUltimas24H","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\manav\\Desktop\\Lenguajes\\Python\\RaspberryPi\\humix\\src\\app\\services\\iot.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertaService } from './alerta.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IotService {\n\n  private API = 'http://localhost:3000/api';\n\n  constructor(private http: HttpClient,\n    private alertService: AlertaService\n  ) {}\n\n  getEstado() {\n    return this.http.get(`${this.API}/estado`);\n  }\n\n  setDeshumidificador(accion: 'on' | 'off') {\n    this.alertService.enviar(accion);\n    return this.http.post(`${this.API}/deshumidificador`, { accion });\n  }\n\n  getHistorico() {\n    return this.http.get<any[]>('http://localhost:3000/api/humedad/historico');\n  }\n\n  getSensoresH() {\n    return this.http.get<any[]>('http://localhost:3000/api/humedad/sensores');\n  }\n\n  getLastMesure(){\n    return this.http.get<any[]>('http://localhost:3000/api/humedad/ultimas');\n  }\n\n  getBiggest2Day(){\n    return this.http.get<any[]>('http://localhost:3000/api/humedad/max-hoy');\n  }\n\n  getPromedioSemanal(){\n    return this.http.get<any[]>('http://localhost:3000/api/humedad/promedio/diario/semana');\n  }\n\n  getPromedioMensual(){\n    return this.http.get<any[]>('http://localhost:3000/api/humedad/promedio/diario/mensual');\n  }\n\n  getUltimaConductividad() {\n    return this.http.get<any>('http://localhost:3000/api/conductividad/ultimo');\n  }\n\n  getMaxConductividadHoy(){\n    return this.http.get<any>('http://localhost:3000/api/conductividad/maxHoy');\n  }\n\n  getLogsUltimas24H() {\n  return this.http.get<any[]>('http://localhost:3000/api/humedad/ultimas24h');\n}\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}